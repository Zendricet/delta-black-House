<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?9a837349ed45ebc2d38ad5dbc499a8be";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>三角洲黑屋推测系统</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-shield-alt"></i> 三角洲黑屋推测系统</h1>
            <p class="subtitle">基于玩家数据分析的匹配机制推测系统</p>
        </header>

        <div class="card-container">
            <!-- 网站公告卡片 -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-bullhorn"></i>
                    <span>网站公告</span>
                </div>
                <div class="card-content">
                    <div class="announcement-container">
                        <div class="announcement">
                            「因影响因子设置错误，导致2.0算法异常得出错误结论，现在已经修复。」&emsp;&emsp;&emsp;
                            「因数据样本较少（各类数据仅有10条）数据推测结论可能存在较大误差，请自行判断是否正确」&emsp;&emsp;&emsp;
                            「如果推测结论与您的实际游戏体验不符，请加QQ群：1002361518并提供报告页面截图；帮助我们完善算法。」
                        </div>
                    </div>
                </div>
            </div>

            <!-- 玩家数据卡片 -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-database"></i>
                    <span>玩家数据</span>
                </div>
                <div class="card-content">
                    <h3 class="section-title">当前赛季主体数据</h3>
                    <div class="data-grid">
                        <div class="input-group">
                            <label for="profitLoss">赚损比 <span class="unit">(M)</span></label>
                            <input type="number" id="profitLoss" placeholder="请输入赚损比" min="0" step="0.01" value="0">
                        </div>
                        <div class="input-group">
                            <label for="normalKD">普通KD</label>
                            <input type="number" id="normalKD" placeholder="请输入普通KD" min="0" step="0.01" value="0">
                        </div>
                        <div class="input-group">
                            <label for="confidentialKD">机密KD</label>
                            <input type="number" id="confidentialKD" placeholder="请输入机密KD" min="0" step="0.01"
                                value="0">
                        </div>
                        <div class="input-group">
                            <label for="topSecretKD">绝密KD</label>
                            <input type="number" id="topSecretKD" placeholder="请输入绝密KD" min="0" step="0.01" value="0">
                        </div>
                        <div class="input-group">
                            <label for="hitRate">命中率 (%)</label>
                            <input type="number" id="hitRate" placeholder="请输入命中率" min="0" max="100" step="0.1"
                                value="0">
                        </div>
                        <div class="input-group">
                            <label for="accuracy">精准击败率 (%)</label>
                            <input type="number" id="accuracy" placeholder="请输入精准击败率" min="0" max="100" step="0.1"
                                value="0">
                        </div>
                        <div class="input-group">
                            <label for="overallEvac">总体撤离率 (%)</label>
                            <input type="number" id="overallEvac" placeholder="请输入总体撤离率" min="0" max="100" step="0.1"
                                value="0">
                        </div>
                        <div class="input-group">
                            <label for="recentEvac">近期撤离率 (%)</label>
                            <input type="number" id="recentEvac" placeholder="请输入近期撤离率" min="0" max="100" step="0.1"
                                value="0">
                        </div>
                    </div>

                    <h3 class="section-title">当前赛季五维能力</h3>
                    <div class="data-grid">
                        <div class="input-group">
                            <label for="combat">战斗能力</label>
                            <input type="number" id="combat" placeholder="请输入战斗能力" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label for="wealth">财富能力</label>
                            <input type="number" id="wealth" placeholder="请输入财富能力" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label for="search">搜索能力</label>
                            <input type="number" id="search" placeholder="请输入搜索能力" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label for="cooperation">合作能力</label>
                            <input type="number" id="cooperation" placeholder="请输入合作能力" min="0" step="0.1" value="0">
                        </div>
                        <div class="input-group">
                            <label for="survival">生存能力</label>
                            <input type="number" id="survival" placeholder="请输入生存能力" min="0" step="0.1" value="0">
                        </div>
                    </div>

                    <div class="btn-container">
                        <button class="btn" id="analyzeBtn">
                            <i class="fas fa-chart-line"></i> 分析数据
                        </button>
                    </div>
                </div>
            </div>

            <!-- 机制说明卡片 -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-cogs"></i>
                    <span>机制说明</span>
                </div>
                <div class="card-content">
                    <div class="mechanism-content">
                        <p>黑屋本质是游戏对"异常行为"的隔离机制，可能触发场景如下：</p>
                        <p>1. 高强度对局行为：如"打人猛攻流"，玩家短期内高频击败干员（连续多局高击杀），或隐藏分因战绩飙升，系统判定与"高风险玩家"（含疑似外挂、高违规倾向账号）行为趋同，触发隔离；</p>
                        <p>2. 异常玩法流派：像"唐人玩法"（低强度刷局控数据）、"不打不搜装满保险找人送"（非正常游戏流程），因偏离常规游玩逻辑，被系统识别为异常，强制送入黑屋；</p>
                        <p>3. 资产/收益异常：护航玩家连续多局带出高额资产（如单局500万+），或"舔包流"（零击杀但满背包撤离）等非常规收益行为，触发针对"经济异常"的隔离，迫使消耗资产。</p>
                        <p>4. <span
                                class="red-text">异常组队情况：队伍中出现异常人员（被标记人员）或匹配敌人数据异常（被标记或外挂使用者）而被玩家击杀导致自身账号被异常标记导致匹配黑屋对局（匿名用户提供）</span>
                        </p>
                    </div>

                    <div class="warning-box">
                        <p><strong>免责声明：</strong>
                            本推测系统基于对Bilibili、抖音、快手等平台视频内容分析提炼制作，其内容及计算公式与游戏存在较大误差；关于游戏是否存在小黑屋机制以官方公告为准！</p>
                    </div>
                </div>
            </div>

            <!-- 免责声明卡片 -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>免责声明</span>
                </div>
                <div class="card-content">
                    <p>本工具提供的分析结果仅供参考，不构成任何游戏建议。实际游戏匹配机制可能因游戏版本更新、运营商策略调整等因素发生变化。使用本工具产生的任何后果由用户自行承担。</p>
                    <p>本工具不会收集或上传任何用户输入的数据，所有计算均在本地浏览器完成。</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 进度条弹窗 -->
    <div class="overlay" id="progressOverlay">
        <div class="modal">
            <div class="progress-container">
                <h2 class="progress-title"><i class="fas fa-cog fa-spin"></i> 正在分析玩家数据...</h2>
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <p>正在计算匹配机制可能性，请稍候</p>
            </div>
        </div>
    </div>

    <!-- 结果弹窗 -->
    <div class="overlay" id="resultOverlay">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-file-contract"></i> 三角洲黑屋推测玩家数据报告</h2>
                <button class="close-btn" id="closeResultBtn">&times;</button>
            </div>

            <div class="card-content">
                <!-- 玩家数据显示 -->
                <div class="card" style="margin-bottom: 25px;">
                    <div class="card-header" style="border-radius: 15px 15px 0 0;">
                        <i class="fas fa-user"></i>
                        <span>玩家数据</span>
                    </div>
                    <div class="card-content">
                        <div class="player-data-grid">
                            <div class="player-data-item">
                                <div class="player-data-label">赚损比</div>
                                <div class="player-data-value" id="r-profitLoss">0.00M</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">普通KD</div>
                                <div class="player-data-value" id="r-normalKD">0.00</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">机密KD</div>
                                <div class="player-data-value" id="r-confidentialKD">0.00</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">绝密KD</div>
                                <div class="player-data-value" id="r-topSecretKD">0.00</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">命中率</div>
                                <div class="player-data-value" id="r-hitRate">0.00%</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">精准击败率</div>
                                <div class="player-data-value" id="r-accuracy">0.00%</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">总体撤离率</div>
                                <div class="player-data-value" id="r-overallEvac">0.00%</div>
                            </div>
                            <div class="player-data-item">
                                <div class="player-data-label">近期撤离率</div>
                                <div class="player-data-value" id="r-recentEvac">0.00%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 分析结果 -->
                <div class="card" style="margin-bottom: 25px;">
                    <div class="card-header" style="border-radius: 15px 15px 0 0;">
                        <i class="fas fa-chart-pie"></i>
                        <span>分析结果</span>
                    </div>
                    <div class="card-content">
                        <div class="result-column">
                            <div class="result-card">
                                <div class="result-title"><i class="fas fa-chess-board"></i> 当前匹配池类型</div>
                                <div class="result-value normal" id="matchType">正常对局</div>
                                <p>根据玩家数据分析得出的匹配池类型</p>
                            </div>

                            <div class="result-card">
                                <div class="result-title"><i class="fas fa-chart-bar"></i> 关键影响因子分析</div>
                                <div class="chart-container">
                                    <canvas id="factorChart"></canvas>
                                </div>
                                <div class="chart-info">
                                    <p><span class="red-dot"></span> 红色表示超过参考值的关键因子</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 数据建议 -->
                <div class="card">
                    <div class="card-header" style="border-radius: 15px 15px 0 0;">
                        <i class="fas fa-lightbulb"></i>
                        <span>数据建议</span>
                    </div>
                    <div class="card-content">
                        <div class="result-card suggestion-card">
                            <div class="result-title suggestion-title"><i class="fas fa-clipboard-list"></i> 游戏行为优化建议
                            </div>
                            <ul class="factor-list">
                                <li>避免连续多局高击杀行为，适当进行物资收集对局</li>
                                <li>保持撤离率在30%-50%之间，避免过高或过低</li>
                                <li>组队时注意队友账号状态，避免与异常账号组队</li>
                                <li>五维能力保持均衡发展，避免单一能力过高</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>

</html>